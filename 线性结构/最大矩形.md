# [单调栈](https://leetcode-cn.com/problems/maximal-rectangle/)
借用最大直方图的代码，每行每行的算就行了
```cpp
    int largestRectangleArea(vector<int>& height)
    {
        stack<int> s;
        s.push(-1);
        //height.push_back(-1);
        int ans = 0;
        for(int i = 0;i < height.size();++i)
        {
            while(s.top() != -1 && height[s.top()] > height[i])
            {
                int t = s.top();
                s.pop();
                ans = max(ans,height[t]*(i-s.top()-1));
            }
            s.push(i);
        }
        return ans;
    }
    int maximalRectangle(vector<vector<char>>& matrix) {
        int n = matrix.size();
        if(n == 0)
        return 0;
        int m = matrix[0].size();
        vector<int> height(m,0);
        height.push_back(-1);
        int ans = 0;
        for(int i = 0;i < n;++i)
        {
            for(int j = 0;j < m;++j)
            if(matrix[i][j] == '0')
            height[j] = 0;
            else
            height[j] = height[j] + (matrix[i][j]-'0');
            int temp = largestRectangleArea(height);
            ans = max(ans,temp);
        }
        return ans;
    }
```
